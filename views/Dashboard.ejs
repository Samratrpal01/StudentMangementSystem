<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="CDN.js"></script>
    <link rel="stylesheet" href="Dashboard.css">    
    <script src="Dashboard.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

</head>
<body>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
    
    <div class="title">
        <h1>Result Management System</h1>
        <div > <button class="btn btn-danger btn-md btn-outline-light rounded-pill" style="position: absolute; right: 10px; top:20px;" onclick="Logout()">Logout</button></div>
        <br>
    </div>
    
    <br>

    <div class="row">
        <div class="subTitle">
            <h3>Student Record</h3>
        </div>

        <div id="addStudent" type="button" class="btn btn-primary btn-outline-success rounded-pill" data-toggle="modal" data-target="#addStudentModal" style="color:beige">Add Student</div>
    </div>
    <div class="modal fade" id="addStudentModal" tabindex="-1" role="dialog" aria-labelledby="addStudentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addStudentModalLabel">Add Student Record</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Your form content goes here -->
                    <form id="studentForm">
                        <div class="form-group">
                            <label for="studentName">Student Name</label>
                            <input type="text" class="form-control" id="studentName" name="studentName" required>
                            <label for="rollNo">Roll No</label>
                            <small class="error-text" id="studentNameError"></small>
                            <input type="number" class="form-control" id="rollNo" name="rollNo" required>
                            <small class="error-text" id="rollNoError"></small>
                            <label for="dateOfBirth">Date Of Birth</label>
                            <input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth" required>
                            <small class="error-text" id="dateOfBirthError"></small>
                            <label for="score">Score</label>
                            <input type="number" class="form-control" id="score" name="score" required>
                            <small class="error-text" id="scoreError"></small>
                            <label for="phoneno">Phone No</label>
                            <input type="number" class="form-control" id="phoneNo" name="phoneno" required>
                            <small class="error-text" id="phoneNoError"></small>
                        </div>
                        </div>
                        <!-- Add more form fields here -->
                    </form>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        <button type="button"  class="btn btn-primary" id="saveStudent" onclick="AddRecord()">Save</button>
                    </div>
                </div>
               
            </div>

          
        </div>

       
        <div class="modal fade" id="EditStudentModal" tabindex="-1" role="dialog" aria-labelledby="EditStudentModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addStudentModalLabel">Edit Student Record</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- Your form content goes here -->
                        <form id="studentForm">
                            <div class="form-group">
                                <label for="studentName">Student Name</label>
                                <input type="text" class="form-control" id="editStudentName" name="studentName" value="" required>
                                <label for="rollNo">Roll No</label>
                                <input type="number" class="form-control" id="editRollNo" name="rollNo" value="" required>
                                <label for="dateOfBirth">Date Of Birth</label>
                                <input type="text" class="form-control" id="editDateOfBirth" name="dateOfBirth" value="" required>
                                <label for="score">Score</label>
                                <input type="number" class="form-control" id="editScore" name="score" value="" required>
                                <small class="error-text" id="editScoreError"></small>
                                <label for="phoneno">Phone No</label>
                                <input type="number" class="form-control" id="editPhoneNo" name="phoneno" value="" required>
                                <small class="error-text" id="editPhoneNoError"></small>
                            </div>
                            </div>
                            <!-- Add more form fields here -->
                        </form>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                            <button type="button"  class="btn btn-primary" id="saveStudent" onclick="UpdateRecord()">Save</button>
                        </div>
                        
                    </div>
                   
                </div>
            </div>
        
    </div>

    <div class="modal fade" id="deleteStudentModal" tabindex="-1" role="dialog" aria-labelledby="deleteStudentModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="DeleteModalLabel">Delete Student Record</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" id="DeleteModalBody">
              Are You Sure Want To Delete! of Name:
              <h3 id="NameOfDeleteStudent"></h3><br>
              RollNo:-
              <h3 id="RollOfDeleteStudent"></h3>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-danger" onclick="delteStudent()">Save changes</button>
            </div>
          </div>
        </div>
      </div>
      


    

    
    <!--Table-->
<div class="tabledata">
    <table class="table table-striped w-auto">

    
    <thead>
      <tr>
        <th>#</th>
        <th>Roll No</th>
        <th>Name</th>
        <th>Date Of Birth</th>
        <th>Score</th>
        <th>Phone No</th>
        <th>Operation</th>
       
      </tr>
    </thead>
    <!--Table head-->
  
    <!--Table body-->
    <tbody>

        <% var count=1; StudentRecords.forEach(student=>{ %>
      <tr>
        <th scope="row"><%=count++ %></th>
        <td><%=student.RollNo%></td>
        <td><%=student.Name%></td>
        <td><%=student.DateOfBirth.toString().split('T')[0]%></td>
        <td><%=student.Score%></td>
        <td><%=student.PhoneNo %></td>
        <td class="operation">
            <i class="fas fa-trash delete-icon" data-toggle="modal" data-target="#deleteStudentModal" data-roll-no="<%= student.RollNo %>"></i>&nbsp;&nbsp;&nbsp;
            <i class="fas fa-edit edit-icon" data-toggle="modal" data-target="#EditStudentModal" data-roll-no="<%= student.RollNo %>"></i>
        </td>
      </tr>

      <% })%>
      
    </tbody>
    <!--Table body-->
    
    
  
  </table>



</div>



  <!--Table-->
  

</body>
</html>